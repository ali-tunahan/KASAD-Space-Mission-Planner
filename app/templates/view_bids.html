{% extends "master.html" %} {% block title %} View Bids {% endblock %} {% block
content %}
<div class="container-fluid py-4 px-5">
  <h1>Incoming Bids</h1>
  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %} {% for category, message in messages %}
  <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %} {% endif %} {% endwith %} {% for bid in bids %}
  <div
    class="mission-item"
    style="
      background-color: #33333f;
      color: white;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 5px;
    "
  >
    <div class="row">
      <div class="col-md-8">
        <h5>{{ bid.mission_title }}</h5>
        <p><strong>Company:</strong> {{ bid.company_name }}</p>
        <p><strong>Bid Amount:</strong> ${{ bid.amount }}</p>
        <p><strong>Date:</strong> {{ bid.bid_date.strftime('%Y-%m-%d') }}</p>
        <p><strong>Status:</strong> {{ bid.status }}</p>
      </div>
      <div class="col-md-4 text-right">
        <form action="{{ url_for('viewBids') }}" method="post">
          <input type="hidden" name="bid_id" value="{{ bid.bid_id }}" />
          <button
            type="submit"
            name="accept"
            class="btn btn-success"
            {%
            if
            bid.status
            !="Open"
            %}disabled{%
            endif
            %}
          >
            Accept Bid
          </button>
          <button
            type="submit"
            name="reject"
            class="btn btn-danger"
            {%
            if
            bid.status
            !="Open"
            %}disabled{%
            endif
            %}
          >
            Reject Bid
          </button>
        </form>
      </div>
    </div>
  </div>
  {% else %}
  <p>No bids available.</p>
  {% endfor %}
</div>
{% endblock %}
